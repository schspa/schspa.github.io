<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-03-03 Thu 11:48 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cheate MAC address</title>
<meta name="author" content="Schspa" />
<meta name="description" content="Cheate MAC address" />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="/images/rose-red.png" type="image/x-icon" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha256-sAcc18zvMnaJZrNT4v8J0T4HqzEUiUTlVFgDIywjQek=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/animate.min.css" />
<link rel="stylesheet" href="/css/all.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<link rel="stylesheet" type="text/css" href="/css/navbar.css" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha256-/hGxZHGQ57fXLp+NDusFZsZo/PG21Bp2+hXYV5a6w+g=" crossorigin="anonymous"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/darkreader.js"></script>
<script src="/user.config.js"></script>
<script src="/js/main.js"></script>
</head>
<body>
<div id="preamble" class="status">
<div class="mobile-container">
  <!-- Top Navigation Menu -->
  <div class="topnav">
    <div id="header">
      <a href="/" class="logo">Schspa's Blog</a>
      <a href="javascript:void(0);" class="icon" onclick="toggleheader()">
        <i class="fa fa-bars"></i>
      </a>
    </div>
    <div id="nav_headers">
      <a href="/sitemap.html" class="menu-item">Categories</a>
    </div>
  </div>
  <!-- End smartphone / tablet look -->
</div>

<header id="header" class="header">
  <div class="logo-wrapper">
    <a href="/" class="logo">Schspa's Blogs</a>
  </div>

  <nav class="site-navbar">
    <ul id="menu" class="menu">
      <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li>
      <li class="menu-item">
        <a class="menu-item-link" href="/sitemap.html">Categories</a>
      </li>
    </ul>
  </nav>
</header>
</div>
<div id="content" class="content">
<h1 class="title">Cheate MAC address</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge8d3f68">èƒŒæ™¯</a></li>
<li><a href="#org2842f1b">ä½¿ç”¨å‘½ä»¤ä¿®æ”¹IPåœ°å€</a></li>
<li><a href="#orgf8841b6">ä½¿ç”¨HOOKæ¥å®Œæˆmacåœ°å€æ¬ºéª—</a>
<ul>
<li><a href="#org0ab7822">æ‰¾å‡ºå—å®³è€…è·å–MACåœ°å€çš„æ–¹æ³•</a>
<ul>
<li><a href="#org7bcfb93">å—å®³äººä¿¡æ¯ </a></li>
<li><a href="#org89c5cc7">æ‰¾å‡ºå—å®³äººè·å–macåœ°å€çš„æ–¹æ³•</a></li>
<li><a href="#org1c8a5f2">ä½¿ç”¨LD_PRELOADæ¥å®Œæˆhook</a></li>
<li><a href="#org97b673a">æµ‹è¯•ï¼š</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orge8d3f68" class="outline-2">
<h2 id="orge8d3f68">èƒŒæ™¯</h2>
<div class="outline-text-2" id="text-orge8d3f68">
<p>
ç”±äºä¸€äº›åŸå› ï¼Œå¾ˆå¤šè½¯ä»¶ä¼šç»‘å®šç½‘å¡MACåœ°å€ï¼Œè¿™æ ·å°±å¯¼è‡´æ¢äº†ç½‘å¡ä¹‹åï¼Œè½¯ä»¶å°±æ— æ³•ä½¿ç”¨äº†ã€‚<br>
ä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡å‘½ä»¤ä¿®æ”¹MACåœ°å€ï¼Œä½†æ˜¯è¿™æ ·ä¸å¤Ÿä¼˜é›…ï¼Œå¹¶ä¸”è¿˜æœ‰å¯¼è‡´macåœ°å€é‡å¤çš„é£é™©ã€‚<br>
</p>
</div>
</div>

<div id="outline-container-org2842f1b" class="outline-2">
<h2 id="org2842f1b">ä½¿ç”¨å‘½ä»¤ä¿®æ”¹IPåœ°å€</h2>
<div class="outline-text-2" id="text-org2842f1b">
<div class="org-src-container">
<pre class="src src-bash"><code>ifconfig eth0 hw ether xx:xx:xx:xx:xx:xx</code>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf8841b6" class="outline-2">
<h2 id="orgf8841b6">ä½¿ç”¨HOOKæ¥å®Œæˆmacåœ°å€æ¬ºéª—</h2>
<div class="outline-text-2" id="text-orgf8841b6">
</div>
<div id="outline-container-org0ab7822" class="outline-3">
<h3 id="org0ab7822">æ‰¾å‡ºå—å®³è€…è·å–MACåœ°å€çš„æ–¹æ³•</h3>
<div class="outline-text-3" id="text-org0ab7822">
</div>
<div id="outline-container-org7bcfb93" class="outline-4">
<h4 id="org7bcfb93">å—å®³äººä¿¡æ¯ <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></h4>
<div class="outline-text-4" id="text-org7bcfb93">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">OS</td>
<td class="org-left">Ubuntu 16.04 xenial</td>
</tr>

<tr>
<td class="org-left">ç½‘å¡</td>
<td class="org-left">a8:83:3b:53:eb:35</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org89c5cc7" class="outline-4">
<h4 id="org89c5cc7">æ‰¾å‡ºå—å®³äººè·å–macåœ°å€çš„æ–¹æ³•</h4>
<div class="outline-text-4" id="text-org89c5cc7">
<p>
ç”¨straceæŠ“ä¸€ä¸‹log<br>
</p>
<div class="org-src-container">
<pre class="src src-bash"><code>strace ./lmhostid</code>
<code><span style="color: #c678dd;">execve</span>(<span style="color: #98be65;">"./lmhostid"</span>, [<span style="color: #98be65;">"./lmhostid"</span>], [/* 30 vars */]) = 0</code>
<code><span style="color: #c678dd;">brk</span>(NULL)                               = 0x828000</code>
<code><span style="color: #c678dd;">access</span>(<span style="color: #98be65;">"/etc/ld.so.nohwcap"</span>, F_OK)      = -1 ENOENT (No such file or directory)</code>
<code><span style="color: #c678dd;">access</span>(<span style="color: #98be65;">"/etc/ld.so.preload"</span>, R_OK)      = -1 ENOENT (No such file or directory)</code>
<code><span style="color: #c678dd;">openat</span>(AT_FDCWD, <span style="color: #98be65;">"/etc/ld.so.cache"</span>, O_RDONLY|O_CLOEXEC) = 3</code>
<code><span style="color: #c678dd;">fstat</span>(3, {<span style="color: #dcaeea;">st_mode</span>=S_IFREG|0644, <span style="color: #dcaeea;">st_size</span>=138880, ...}) = 0</code>
<code><span style="color: #c678dd;">mmap</span>(NULL, 138880, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f75775c6000</code>
<code><span style="color: #c678dd;">close</span>(3)                                = 0</code>
<code><span style="color: #c678dd;">access</span>(<span style="color: #98be65;">"/etc/ld.so.nohwcap"</span>, F_OK)      = -1 ENOENT (No such file or directory)</code>
<code><span style="color: #c678dd;">openat</span>(AT_FDCWD, <span style="color: #98be65;">"/lib/x86_64-linux-gnu/libpthread.so.0"</span>, O_RDONLY|O_CLOEXEC) = 3</code>
<code><span style="color: #c678dd;">read</span>(3, <span style="color: #98be65;">"\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0000b\0\0\0\0\0\0"</span>..., 832) = 832</code>
<code><span style="color: #c678dd;">fstat</span>(3, {<span style="color: #dcaeea;">st_mode</span>=S_IFREG|0755, <span style="color: #dcaeea;">st_size</span>=144976, ...}) = 0</code>
<code><span style="color: #c678dd;">mmap</span>(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f75775</code>
<code><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#30465;&#30053;......</span></code>
<code><span style="color: #c678dd;">close</span>(3)                                = 0</code>
<code><span style="color: #c678dd;">socket</span>(PF_INET, SOCK_DGRAM, IPPROTO_IP) = 3</code>
<code><span style="color: #c678dd;">openat</span>(AT_FDCWD, <span style="color: #98be65;">"/proc/net/dev"</span>, O_RDONLY) = 4</code>
<code><span style="color: #c678dd;">fstat</span>(4, {<span style="color: #dcaeea;">st_mode</span>=S_IFREG|0444, <span style="color: #dcaeea;">st_size</span>=0, ...}) = 0</code>
<code><span style="color: #c678dd;">read</span>(4, <span style="color: #98be65;">"Inter-|   Receive               "</span>..., 1024) = 718</code>
<code><span style="color: #c678dd;">read</span>(4, <span style="color: #98be65;">""</span>, 1024)                       = 0</code>
<code><span style="color: #c678dd;">close</span>(4)                                = 0</code>
<code><span style="color: #c678dd;">stat</span>(<span style="color: #98be65;">"/sys/devices/virtual/net/eno1"</span>, 0x7ffd14cf1d40) = -1 ENOENT (No such file or directory)</code>
<code><span style="color: #c678dd;">socket</span>(PF_INET, SOCK_DGRAM, IPPROTO_IP) = 4</code>
<code><span style="color: #c678dd;">ioctl</span>(4, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"eno1"</span>, <span style="color: #dcaeea;">ifr_hwaddr</span>=a8:83:3b:53:eb:35}) = 0</code>
<code><span style="color: #c678dd;">close</span>(4)                                = 0</code>
<code><span style="color: #c678dd;">stat</span>(<span style="color: #98be65;">"/sys/devices/virtual/net/virbr0"</span>, {<span style="color: #dcaeea;">st_mode</span>=S_IFDIR|0755, <span style="color: #dcaeea;">st_size</span>=0, ...}) = 0</code>
<code><span style="color: #c678dd;">stat</span>(<span style="color: #98be65;">"/sys/devices/virtual/net/lo"</span>, {<span style="color: #dcaeea;">st_mode</span>=S_IFDIR|0755, <span style="color: #dcaeea;">st_size</span>=0, ...}) = 0</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"eno1"</span>, <span style="color: #dcaeea;">ifr_hwaddr</span>=a8:83:3b:53:eb:35}) = 0</code>
<code><span style="color: #c678dd;">socket</span>(PF_INET, SOCK_DGRAM, IPPROTO_IP) = 4</code>
<code><span style="color: #c678dd;">ioctl</span>(4, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"eno1"</span>, <span style="color: #dcaeea;">ifr_hwaddr</span>=a8:83:3b:53:eb:35}) = 0</code>
<code><span style="color: #c678dd;">close</span>(4)                                = 0</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond0"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond1"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond2"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond3"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond4"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond5"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond6"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond7"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond8"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"bond9"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic0"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic1"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic2"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic3"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic4"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic5"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic6"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic7"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic8"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">ioctl</span>(3, SIOCGIFHWADDR, {<span style="color: #dcaeea;">ifr_name</span>=<span style="color: #98be65;">"vmnic9"</span>}) = -1 ENODEV (No such device)</code>
<code><span style="color: #c678dd;">close</span>(3)                                = 0</code>
<code><span style="color: #c678dd;">write</span>(1, <span style="color: #98be65;">"The FlexNet host ID of this mach"</span>..., 54The FlexNet host ID of this machine is <span style="color: #98be65;">"a8833b53eb35"</span></code>
<code>) = 54</code>
<code><span style="color: #c678dd;">exit_group</span>(0)                           = ?</code>
<code>+++ exited with 0 +++</code>
</pre>
</div>
<p>
ä»ä¸Šé¢çš„logå¯ä»¥å¾ˆå®¹æ˜“çš„çœ‹å‡ºï¼Œåº”ç”¨ä½¿ç”¨SIOCGIFHWADDRçš„ioctlæ¥è·å–MACåœ°å€ï¼Œæ‰€ä»¥åªè¦hookè¿™ä¸ªå‡½æ•°å°±å¯ä»¥å®Œæˆæˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org1c8a5f2" class="outline-4">
<h4 id="org1c8a5f2">ä½¿ç”¨LD_PRELOADæ¥å®Œæˆhook</h4>
<div class="outline-text-4" id="text-org1c8a5f2">
<ul class="org-ul">
<li>ä»£ç <br></li>
</ul>
<div class="org-src-container">
<pre class="src src-c"><code><span style="color: #5B6268;">/*</span></code>
<code><span style="color: #5B6268;"> * ifhwaddr hook - a hook SIOCGIFHWADDR ioctl to give a fake MAC address for apps</span></code>
<code><span style="color: #5B6268;"> * LD_PRELOAD="hook.so" command</span></code>
<code><span style="color: #5B6268;"> *</span></code>
<code><span style="color: #5B6268;"> */</span></code>
<code></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;stdarg.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;stdlib.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;string.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;fcntl.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;stdio.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;dlfcn.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;sys/types.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;sys/stat.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;stdlib.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;signal.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;errno.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;sys/ioctl.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;net/if.h&gt;</span></code>
<code><span style="color: #51afef; font-weight: bold;">#include</span> <span style="color: #98be65;">&lt;net/if_arp.h&gt;</span></code>
<code></code>
<code><span style="color: #51afef; font-weight: bold;">#if</span><span style="color: #51afef; font-weight: bold;">n</span><span style="color: #51afef; font-weight: bold;">def</span> RTLD_NEXT</code>
<code><span style="color: #51afef; font-weight: bold;">#define</span> <span style="color: #dcaeea;">RTLD_NEXT</span> ((<span style="color: #ECBE7B;">void</span> *) -1l)</code>
<code><span style="color: #51afef; font-weight: bold;">#endif</span></code>
<code></code>
<code><span style="color: #51afef; font-weight: bold;">#define</span> <span style="color: #dcaeea;">REAL_LIBC</span> RTLD_NEXT</code>
<code></code>
<code><span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">ioctl</span> (<span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">__fd</span>, <span style="color: #ECBE7B;">unsigned</span> <span style="color: #ECBE7B;">long</span> <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">__request</span>, ...) {</code>
<code>    <span style="color: #51afef;">static</span> <span style="color: #ECBE7B;">int</span> (*<span style="color: #c678dd;">func_ioctl</span>) (<span style="color: #ECBE7B;">int</span>, <span style="color: #ECBE7B;">unsigned</span> <span style="color: #ECBE7B;">long</span> <span style="color: #ECBE7B;">int</span>, <span style="color: #ECBE7B;">void</span> *) = <span style="color: #a9a1e1;">NULL</span>;</code>
<code>    <span style="color: #ECBE7B;">va_list</span> <span style="color: #dcaeea;">args</span>;</code>
<code>    <span style="color: #ECBE7B;">void</span> *<span style="color: #dcaeea;">argp</span>;</code>
<code>    <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">retval</span>;</code>
<code></code>
<code>    <span style="color: #51afef;">if</span> (<span style="color: #51afef; font-weight: bold;">!</span> func_ioctl) {</code>
<code>        func_ioctl = (<span style="color: #ECBE7B;">int</span> (*) (<span style="color: #ECBE7B;">int</span>, <span style="color: #ECBE7B;">unsigned</span> <span style="color: #ECBE7B;">long</span> <span style="color: #ECBE7B;">int</span>, <span style="color: #ECBE7B;">void</span> *)) dlsym (REAL_LIBC, <span style="color: #98be65;">"ioctl"</span>);</code>
<code>    }</code>
<code>    va_start (args, __request);</code>
<code>    argp = va_arg (args, <span style="color: #ECBE7B;">void</span> *);</code>
<code>    va_end (args);</code>
<code>    <span style="color: #51afef;">struct</span> <span style="color: #ECBE7B;">ifreq</span> *<span style="color: #dcaeea;">ifr</span> = argp;</code>
<code></code>
<code>    retval = func_ioctl (__fd, __request, argp);</code>
<code></code>
<code>    <span style="color: #51afef;">if</span> (SIOCGIFHWADDR == __request &amp;&amp; retval == 0) {</code>
<code></code>
<code>        <span style="color: #ECBE7B;">unsigned</span> <span style="color: #ECBE7B;">char</span>* <span style="color: #dcaeea;">mac</span>=(<span style="color: #ECBE7B;">unsigned</span> <span style="color: #ECBE7B;">char</span>*)ifr-&gt;ifr_hwaddr.sa_data;</code>
<code>        <span style="color: #5B6268;">// </span><span style="color: #5B6268;">set to b3:26:83:2c:73:ec</span></code>
<code>        mac[0] = 0xb3;</code>
<code>        mac[1] = 0x26;</code>
<code>        mac[2] = 0x83;</code>
<code>        mac[3] = 0x2c;</code>
<code>        mac[4] = 0x73;</code>
<code>        mac[5] = 0xec;</code>
<code>    }</code>
<code></code>
<code>    <span style="color: #51afef;">return</span> retval;</code>
<code>}</code>
</pre>
</div>
<ul class="org-ul">
<li><p>
ç¼–è¯‘:<br>
</p>
<div class="org-src-container">
<pre class="src src-bash"><code>gcc -shared -o hook.so hook.c</code>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org97b673a" class="outline-4">
<h4 id="org97b673a">æµ‹è¯•ï¼š</h4>
<div class="outline-text-4" id="text-org97b673a">
<p>
hookå‰ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-bash"><code>./lmhostid</code>
<code>lmhostid - Copyright (c) 1989-2017 Flexera Software LLC. All Rights Reserved.</code>
<code>The FlexNet host ID of this machine is <span style="color: #98be65;">"a8833b53eb35"</span></code>
</pre>
</div>
<p>
hookå<br>
</p>
<div class="org-src-container">
<pre class="src src-bash"><code><span style="color: #dcaeea;">LD_PRELOAD</span>=./hook.so ./lmhostid</code>
<code>lmhostid - Copyright (c) 1989-2017 Flexera Software LLC. All Rights Reserved.</code>
<code>The FlexNet host ID of this machine is <span style="color: #98be65;">"b326832c73ec"</span></code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
æœ¬æ–‡ä¸­çš„MAC addresséƒ½æ˜¯éšæœºæ•°<br>
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<script src="https://utteranc.es/client.js"
    repo="schspa/schspa.github.io"
    issue-term="title"
    label="âœ¨ğŸ’¬âœ¨"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>
<div class="me">
  <span><b>Contact me via :)</b><span>
  <div class="contact">
    <a id="email" href="mailto:schspa@gmail.com" target="_blank"><i class="fab fa-mailchimp animated heartBeat delay-2s slower"></i></a>
    <a id="github" href="//github.com/schspa" target="_blank"><i class="fab fa-github animated heartBeat delay-2s slower"></i></a>
  </div>
</div>

<div id="jinrishici-sentence" style="font-weight: 700;">è™šæ€€ä¹ƒè‹¥è°·ï¼Œæ°´æ·±åˆ™æµç¼“ã€‚</div>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
</div>
</body>
</html>
